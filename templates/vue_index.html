<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vue„Åß„É¶„Éº„Ç∂„Éº‰∏ÄË¶ßË°®Á§∫</title>

    <!-- Vue.js v3 „ÇíCDN„ÅßË™≠„ÅøËæº„ÇÄÔºàComposition APIÂØæÂøúÔºâ -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>

    <!-- Bootstrap 5.3 „ÇíCDN„ÅßË™≠„ÅøËæº„ÇÄÔºà„Çπ„Çø„Ç§„É™„É≥„Ç∞Áî®Ôºâ -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>

  <!-- Bootstrap „ÅÆËÉåÊôØËâ≤„ÇØ„É©„ÇπÔºàÊòé„Çã„ÇÅ„ÅÆËÉåÊôØÔºâ -->
  <body class="bg-light">
    <!-- Vue„ÅÆ„Éû„Ç¶„É≥„ÉàÂÖàÔºàID„Åå'app'Ôºâ -->
    <div id="app" class="container py-5">
      <h1 class="mb-4 text-primary">„É¶„Éº„Ç∂„Éº‰∏ÄË¶ß</h1>

      <!-- üîΩ ÂêçÂâçÂÖ•Âäõ„Éï„Ç©„Éº„É† -->
      <!-- @submit.preventÔºöVue„ÅÆ„Ç§„Éô„É≥„Éà„ÄÇÈÄÅ‰ø°ÊôÇ„Å´„Éö„Éº„Ç∏„Çí„É™„É≠„Éº„Éâ„Åõ„Åö addUser() „ÇíÂëº„Å∂ -->
      <form @submit.prevent="addUser" class="mb-4 row g-2 align-items-center">
        <div class="col-auto">
          <!-- v-model„ÅßVue„ÅÆ„Éá„Éº„Çø„Å®„Éê„Ç§„É≥„Éâ -->
          <input type="text" v-model="newUsername" class="form-control" placeholder="ÂêçÂâç„ÇíÂÖ•Âäõ" />
        </div>
        <div class="col-auto">
          <button type="submit" class="btn btn-success">ËøΩÂä†</button>
        </div>
      </form>

      <!-- üîΩ „É¶„Éº„Ç∂„Éº‰∏ÄË¶ßÔºàv-for„Åß„É´„Éº„ÉóË°®Á§∫Ôºâ -->
      <ul class="list-group">
        <li
          v-for="user in users"
          :key="user.id"
          class="list-group-item d-flex justify-content-between align-items-center"
        >
          <!-- Á∑®ÈõÜ‰∏≠„ÅÆ„É¶„Éº„Ç∂„ÉºÔºàeditingIdÔºâ„Å®‰∏ÄËá¥„Åô„ÇãÂ†¥Âêà„ÄÅÂÖ•ÂäõUI„ÇíË°®Á§∫ -->
          <div v-if="editingId === user.id" class="w-100 d-flex align-items-center gap-2">
            <input v-model="editedName" class="form-control" />
            <button @click="updateUser(user.id)" class="btn btn-primary btn-sm">‰øùÂ≠ò</button>
            <button @click="cancelEdit()" class="btn btn-secondary btn-sm">„Ç≠„É£„É≥„Çª„É´</button>
          </div>

          <!-- Á∑®ÈõÜ‰∏≠„Åß„Å™„ÅÑÂ†¥ÂêàÔºö„É¶„Éº„Ç∂„ÉºÊÉÖÂ†± + Á∑®ÈõÜ/ÂâäÈô§„Éú„Çø„É≥ -->
          <div v-else class="d-flex justify-content-between w-100">
            <span>ID: [[ user.id ]] / ÂêçÂâç: [[ user.username ]]</span>
            <div>
              <!-- Á∑®ÈõÜ„Éú„Çø„É≥„ÇíÊäº„Åô„Å® editingId „Åå„Çª„ÉÉ„Éà„Åï„Çå„Çã -->
              <button @click="startEdit(user)" class="btn btn-outline-primary btn-sm me-2">
                Á∑®ÈõÜ
              </button>
              <!-- ÂâäÈô§„Éú„Çø„É≥„ÅßË©≤ÂΩìID„ÅÆ„É¶„Éº„Ç∂„Éº„ÇíÂâäÈô§ -->
              <button @click="deleteUser(user.id)" class="btn btn-outline-danger btn-sm">
                ÂâäÈô§
              </button>
            </div>
          </div>
        </li>
      </ul>
    </div>

    <!-- Vue„É≠„Ç∏„ÉÉ„ÇØ„ÇíÂê´„Çì„Å† main.js „ÇíË™≠„ÅøËæº„ÇÄ -->
    <script type="module" src="{{ url_for('static', filename='js/main.js') }}"></script>
  </body>
</html>
<!-- v-model	„Éá„Éº„Çø„Å®„Éï„Ç©„Éº„É†„Çí„Éê„Ç§„É≥„Éâ -->
<!-- v-for	ÈÖçÂàó„Çí„É´„Éº„ÉóË°®Á§∫Ôºà‰∏ÄË¶ßÔºâ -->
<!-- v-if / v-else	Êù°‰ª∂„Å´Âøú„Åò„Å¶UI„ÇíÂàá„ÇäÊõø„Åà„ÇãÔºàÁ∑®ÈõÜ or ÈÄöÂ∏∏Ë°®Á§∫Ôºâ -->
<!-- @click / @submit	Vue„ÅÆ„Ç§„Éô„É≥„Éà„Éè„É≥„Éâ„É© -->
<!-- [[ user.username ]]	Vue„ÅÆÊèèÁîªÔºàdelimiters„Çí [[ ]] „Å´„Åó„Å¶Jinja„Å®Âå∫Âà•Ôºâ -->
<!-- Bootstrap „ÅßÁµ±‰∏ÄÊÑü„ÅÇ„ÇãUI -->
<!-- „É¢„Éê„Ç§„É´„Åß„ÇÇÂ¥©„Çå„Å´„Åè„ÅÑ„É¨„Çπ„Éù„É≥„Ç∑„ÉñÊßãÊàêÔºàcontainer, row, col-autoÔºâ -->
<!-- Á∑®ÈõÜ‰∏≠„Å†„Åë input „ÇíË°®Á§∫„Åô„Çã SPAÁöÑUX -->
<!-- @click / @submit.prevent „ÅßÂÜçË™≠„ÅøËæº„Åø„Å™„Åó„ÅÆ„Çπ„É†„Éº„Ç∫„Å™Êìç‰ΩúÊÄß -->
